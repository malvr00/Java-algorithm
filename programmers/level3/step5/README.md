# [[현대모비스] 상담원 인원](https://github.com/malvr00/Java-algorithm/blob/master/programmers/level3/step5/src/Main.java)

([자세한 문제는 프로그래머스 참고](https://school.programmers.co.kr/learn/courses/30/lessons/214288)) <br/>
상담 유형의 수를 나타내는 정수 k, 멘토의 수를 나타내는 정수 n과 참가자의 상담 요청을 담은 2차원 정수 배열 reqs가 매개변수로 주어집니다. 멘토 인원을 적절히 배정했을 때 참가자들이 상담을 받기까지 기다린 시간을 모두 합한 값의 최솟값을 return 하도록 solution 함수를 완성해 주세요.<br/>
1. 상담을 원하는 참가자가 상담 요청을 했을 때, 참가자의 상담 유형을 담당하는 멘토 중 상담 중이 아닌 멘토와 상담을 시작합니다. <br/>
2. 만약 참가자의 상담 유형을 담당하는 멘토가 모두 상담 중이라면, 자신의 차례가 올 때까지 기다립니다. 참가자가 기다린 시간은 참가자가 상담 요청했을 때부터 멘토와 상담을 시작할 때까지의 시간입니다.<br/>
3. 모든 멘토는 상담이 끝났을 때 자신의 상담 유형의 상담을 받기 위해 기다리고 있는 참가자가 있으면 즉시 상담을 시작합니다. 이때, 먼저 상담 요청한 참가자가 우선됩니다.

## 해법
* 문제에서 무조건 유형당 1명씩 배치하라고 했기 때문에 상담 유형당 1명씩 배정
* 1명씩 배정이 완료된 후 나머지 배정인원을 가지고 각 유형 별 배치할 수 있는 조합의 경우의 수를 찾는다.
* 인원 배정 조합을 찾으면 차례로 유형별 상담사들의 대기방을 만든다.
* 할당된 유형인원의 값을 `room`으로 정의했을 때 `1 ~ n` 유형의 `room`안 상담사 인원 크기에 맞게 `PriorityQueue[]`에 `0`으로 저장한다.
  * `PriorityQueue[0]` 은 `0`유형의 대기 큐다. 이 큐 값에 상담 인원 만큼 `0`을 저장한다.
* 참가의 값을 비교해 최소 대기 값을 찾는다.
  * 참가자가 들어온 순서대로 '무조건' 상담을 진행해야한다. (먼저 온 순서가 우선순위가 가장 높기 때문에 먼저 온 참가자를 무조건 상담을 진행해야 한다.)
  * `c`유형의 참가자가 오면, 첫 번째로 `PriorityQueue[c]`에서 상담이 가장 빨리 끝나는 상담사를 꺼낸다.
    * 해당 상담사의 현재까지 진행된 상담시간을 `time`으로 정의한다.
  * `time > a` 즉 참가자 요청한 시간보다 상담사가 현재까지 진행한 상담시간이 더 클 경우 `time - a` 값을 대기시간에 저장한다. 그 후 `PriorityQueue[c]`에 `time + b`를 우선순위 큐에 저장하고 상담을 진행한다.
  * `time == a` 즉 상담사가 현재까지 진행된 상담시간과 참가자의 상담 신청시간이 같을 경우 상담을 바로 진행할 수 있으므로 대기시간을 저장하지않고 `a + b`를 우선순위 큐에 저장한다.
  * `time < a` 즉 상담사가 현재까지 진행한 상담시간보다 참가자가 요청한 시간이 더 클 경우 상담을 바로 진행할 수 있으므로 대기시간을 저장하지않고 `a + b`를 우선순위 큐에 저장한다.
* 상담사 배치 조합별 가장 낮은 대기시간을 비교해 값을 반환

## 문제점
a. 상담사 배치의 조합을 찾아야한다. 그 이유는 만약 `0, 1, 2` 유형의 상담이 있고, 대기중인 상담사가 1명 이상이 있을경우 어떤 유형에 상담사를 배치해야 최적의 배치인지 알 수 없기 때문에 각 유형의 상담사 배치의 조합을 모두 찾아 값을 비교해야한다. <br/>
b. 상담사가 `2명 이상`일 경우에는 병렬로 처리해야 하기 때문에 해당 유형의 상담사 인원 수 만큼 미리 우선순위 큐에 `0`을 저장해 상담사의 방을 우선순위 큐에 만들어준다.
